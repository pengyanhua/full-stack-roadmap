# variables.c

::: info æ–‡ä»¶ä¿¡æ¯
- ğŸ“„ åŸæ–‡ä»¶ï¼š`01_variables.c`
- ğŸ”¤ è¯­è¨€ï¼šc
:::

## å®Œæ•´ä»£ç 

```c
// ============================================================
//                      å˜é‡ä¸æ•°æ®ç±»å‹
// ============================================================
// C æ˜¯é™æ€ç±»å‹è¯­è¨€ï¼Œæ‰€æœ‰å˜é‡å¿…é¡»å…ˆå£°æ˜åä½¿ç”¨
// C æ˜¯ç³»ç»Ÿçº§è¯­è¨€ï¼šç›´æ¥æ“ä½œå†…å­˜ï¼Œæ— åƒåœ¾å›æ”¶ï¼Œæ€§èƒ½æé«˜
// æ ‡å‡†ï¼šC89/C90ã€C99ï¼ˆæ¨èï¼‰ã€C11ã€C17
// ç¼–è¯‘ï¼šgcc -std=c99 -Wall -o program 01_variables.c

#include <stdio.h>    // æ ‡å‡†è¾“å…¥è¾“å‡º
#include <stdint.h>   // å›ºå®šå®½åº¦æ•´æ•°ç±»å‹ï¼ˆC99ï¼‰
#include <stdbool.h>  // bool ç±»å‹ï¼ˆC99ï¼‰
#include <limits.h>   // æ•´æ•°ç±»å‹æå€¼
#include <float.h>    // æµ®ç‚¹ç±»å‹æå€¼

int main(void) {
    printf("=== C å˜é‡ä¸æ•°æ®ç±»å‹ ===\n");

    // ----------------------------------------------------------
    // 1. æ•´æ•°ç±»å‹
    // ----------------------------------------------------------
    // ã€é‡è¦ã€‘C æ ‡å‡†åªè§„å®šæœ€å°ä½å®½ï¼Œå®é™…å¤§å°ä¾èµ–å¹³å°
    // sizeof è¿ç®—ç¬¦è¿”å›ç±»å‹æ‰€å å­—èŠ‚æ•°

    char   c  = 'A';          // å­—ç¬¦ï¼Œ1å­—èŠ‚ï¼Œ-128~127 æˆ– 0~255
    short  s  = 32767;        // çŸ­æ•´æ•°ï¼Œè‡³å°‘16ä½
    int    i  = 2147483647;   // æ ‡å‡†æ•´æ•°ï¼Œè‡³å°‘16ä½ï¼ˆé€šå¸¸32ä½ï¼‰
    long   l  = 2147483647L;  // é•¿æ•´æ•°ï¼Œè‡³å°‘32ä½
    long long ll = 9223372036854775807LL; // è‡³å°‘64ä½ï¼ˆC99ï¼‰

    printf("char:      %d å­—èŠ‚ï¼Œå€¼=%c\n", (int)sizeof(c), c);
    printf("short:     %d å­—èŠ‚ï¼Œå€¼=%d\n", (int)sizeof(s), s);
    printf("int:       %d å­—èŠ‚ï¼Œå€¼=%d\n", (int)sizeof(i), i);
    printf("long:      %d å­—èŠ‚ï¼Œå€¼=%ld\n", (int)sizeof(l), l);
    printf("long long: %d å­—èŠ‚ï¼Œå€¼=%lld\n", (int)sizeof(ll), ll);

    // æ— ç¬¦å·ç±»å‹ï¼ˆunsignedï¼‰ï¼šåªå­˜æ­£æ•°ï¼ŒèŒƒå›´æ˜¯æœ‰ç¬¦å·çš„ä¸¤å€
    unsigned int ui = 4294967295U;  // U åç¼€
    unsigned long long ull = 18446744073709551615ULL;
    printf("unsigned int:       %u\n", ui);
    printf("unsigned long long: %llu\n", ull);

    // ----------------------------------------------------------
    // 2. å›ºå®šå®½åº¦æ•´æ•°ï¼ˆC99ï¼Œæ¨èç”¨äºè·¨å¹³å°ä»£ç ï¼‰
    // ----------------------------------------------------------
    // ã€æ¨èã€‘å½“éœ€è¦ç²¾ç¡®å®½åº¦æ—¶ï¼Œä½¿ç”¨ stdint.h ä¸­çš„ç±»å‹
    printf("\n=== å›ºå®šå®½åº¦æ•´æ•°ï¼ˆstdint.hï¼‰===\n");

    int8_t   i8  = 127;
    int16_t  i16 = 32767;
    int32_t  i32 = 2147483647;
    int64_t  i64 = 9223372036854775807LL;
    uint8_t  u8  = 255;
    uint32_t u32 = 4294967295U;

    printf("int8_t:   %dï¼ˆ1å­—èŠ‚ï¼‰\n", i8);
    printf("int16_t:  %dï¼ˆ2å­—èŠ‚ï¼‰\n", i16);
    printf("int32_t:  %dï¼ˆ4å­—èŠ‚ï¼‰\n", i32);
    printf("int64_t:  %lldï¼ˆ8å­—èŠ‚ï¼‰\n", i64);
    printf("uint8_t:  %u\n", u8);
    printf("uint32_t: %u\n", u32);

    // ----------------------------------------------------------
    // 3. æµ®ç‚¹ç±»å‹
    // ----------------------------------------------------------
    printf("\n=== æµ®ç‚¹ç±»å‹ ===\n");

    float  f   = 3.14f;               // å•ç²¾åº¦ï¼Œ32ä½ï¼Œçº¦7ä½æœ‰æ•ˆæ•°å­—
    double d   = 3.141592653589793;   // åŒç²¾åº¦ï¼Œ64ä½ï¼Œçº¦15ä½æœ‰æ•ˆæ•°å­—ï¼ˆé»˜è®¤ï¼‰
    long double ld = 3.14159265358979323846L; // æ‰©å±•ç²¾åº¦ï¼Œ80æˆ–128ä½

    printf("float:       %.7fï¼ˆ%då­—èŠ‚ï¼‰\n", f, (int)sizeof(f));
    printf("double:      %.15fï¼ˆ%då­—èŠ‚ï¼‰\n", d, (int)sizeof(d));
    printf("long double: %.18Lfï¼ˆ%då­—èŠ‚ï¼‰\n", ld, (int)sizeof(ld));

    // ã€è­¦å‘Šã€‘æµ®ç‚¹ç²¾åº¦é—®é¢˜
    double a = 0.1, b = 0.2;
    printf("0.1 + 0.2 = %.17fï¼ˆä¸ç²¾ç¡®ï¼ï¼‰\n", a + b);
    printf("0.1 + 0.2 == 0.3ï¼š%s\n", (a + b == 0.3) ? "true" : "false");

    // ----------------------------------------------------------
    // 4. bool ç±»å‹ï¼ˆC99ï¼Œéœ€è¦ stdbool.hï¼‰
    // ----------------------------------------------------------
    printf("\n=== bool ç±»å‹ ===\n");

    bool is_valid = true;
    bool is_empty = false;
    printf("is_valid: %dï¼Œis_empty: %d\n", is_valid, is_empty);
    // ã€æ³¨æ„ã€‘C ä¸­ bool æœ¬è´¨æ˜¯æ•´æ•°ï¼Œ0 ä¸ºå‡ï¼Œé 0 ä¸ºçœŸ

    // ----------------------------------------------------------
    // 5. å˜é‡å£°æ˜ä¸åˆå§‹åŒ–
    // ----------------------------------------------------------
    printf("\n=== å˜é‡å£°æ˜ ===\n");

    // C89ï¼šå˜é‡å¿…é¡»åœ¨ä»£ç å—å¼€å¤´å£°æ˜
    // C99+ï¼šå¯ä»¥åœ¨ä½¿ç”¨å‰ä»»æ„ä½ç½®å£°æ˜

    int x;          // æœªåˆå§‹åŒ–ï¼ˆå±€éƒ¨å˜é‡å€¼ä¸ç¡®å®šï¼Œå±é™©ï¼ï¼‰
    int y = 10;     // å£°æ˜å¹¶åˆå§‹åŒ–
    int z = y * 2;  // ç”¨è¡¨è¾¾å¼åˆå§‹åŒ–

    // ã€æœ€ä½³å®è·µã€‘å§‹ç»ˆåˆå§‹åŒ–å˜é‡
    x = 42;
    printf("x=%d, y=%d, z=%d\n", x, y, z);

    // å¤šå˜é‡å£°æ˜ï¼ˆä¸æ¨èï¼Œé™ä½å¯è¯»æ€§ï¼‰
    int m = 1, n = 2, p = 3;
    printf("m=%d, n=%d, p=%d\n", m, n, p);

    // ----------------------------------------------------------
    // 6. å¸¸é‡
    // ----------------------------------------------------------
    printf("\n=== å¸¸é‡ ===\n");

    // const ä¿®é¥°ç¬¦ï¼šè¿è¡Œæ—¶å¸¸é‡ï¼ˆå€¼ä¸å¯ä¿®æ”¹ï¼‰
    const double PI = 3.141592653589793;
    const int MAX_SIZE = 100;
    // PI = 3.14;  // é”™è¯¯ï¼const å˜é‡ä¸èƒ½ä¿®æ”¹

    // #define å®ï¼šç¼–è¯‘æ—¶æ–‡æœ¬æ›¿æ¢
    #define GRAVITY 9.81
    #define APP_NAME "C å­¦ä¹ ç³»ç»Ÿ"

    printf("PI = %f\n", PI);
    printf("MAX_SIZE = %d\n", MAX_SIZE);
    printf("GRAVITY = %.2f\n", GRAVITY);
    printf("APP_NAME = %s\n", APP_NAME);

    // æšä¸¾å¸¸é‡
    enum Day { MON=1, TUE, WED, THU, FRI, SAT, SUN };
    enum Day today = WED;
    printf("ä»Šå¤©æ˜¯ç¬¬ %d å¤©\n", today);

    // ----------------------------------------------------------
    // 7. å­—é¢é‡ç±»å‹åç¼€
    // ----------------------------------------------------------
    printf("\n=== å­—é¢é‡ ===\n");

    int dec  = 255;      // åè¿›åˆ¶
    int oct  = 0377;     // å…«è¿›åˆ¶ï¼ˆ0 å‰ç¼€ï¼‰
    int hex  = 0xFF;     // åå…­è¿›åˆ¶ï¼ˆ0x å‰ç¼€ï¼‰
    printf("åè¿›åˆ¶=%d, å…«è¿›åˆ¶=%d, åå…­è¿›åˆ¶=%dï¼ˆåŒä¸€ä¸ªæ•°ï¼‰\n", dec, oct, hex);

    // å­—ç¬¦å­—é¢é‡ï¼ˆè½¬ä¹‰å­—ç¬¦ï¼‰
    char nl = '\n';   // æ¢è¡Œ
    char tb = '\t';   // åˆ¶è¡¨ç¬¦
    char bs = '\\';   // åæ–œæ 
    char sq = '\'';   // å•å¼•å·
    char nul = '\0';  // ç©ºå­—ç¬¦ï¼ˆå­—ç¬¦ä¸²ç»ˆæ­¢ç¬¦ï¼‰
    printf("è½¬ä¹‰ï¼šæ¢è¡Œ[%c]åˆ¶è¡¨[%c]åæ–œæ [%c]å•å¼•å·[%c]\n", nl, tb, bs, sq);

    // ----------------------------------------------------------
    // 8. ç±»å‹è½¬æ¢
    // ----------------------------------------------------------
    printf("\n=== ç±»å‹è½¬æ¢ ===\n");

    // éšå¼è½¬æ¢ï¼ˆæ•´æ•°æå‡ï¼‰
    char ch = 65;
    int promoted = ch;  // char è‡ªåŠ¨æå‡ä¸º int
    printf("char %d -> int %dï¼Œå­—ç¬¦ '%c'\n", ch, promoted, ch);

    // æ··åˆç±»å‹è¿ç®—
    int  dividend = 7;
    int  divisor  = 2;
    double result = dividend / divisor;   // æ•´æ•°é™¤æ³•ï¼ç»“æœ 3.0
    double result2 = (double)dividend / divisor;  // å¼ºåˆ¶è½¬æ¢ï¼Œç»“æœ 3.5
    printf("7/2ï¼ˆæ•´æ•°é™¤æ³•ï¼‰= %.1f\n", result);
    printf("(double)7/2  = %.1f\n", result2);

    // æ˜¾å¼å¼ºåˆ¶è½¬æ¢
    double pi = 3.99;
    int truncated = (int)pi;  // æˆªæ–­å°æ•°ï¼Œä¸æ˜¯å››èˆäº”å…¥
    printf("(int)3.99 = %dï¼ˆæˆªæ–­ï¼‰\n", truncated);

    printf("\n=== å˜é‡ä¸ç±»å‹æ¼”ç¤ºå®Œæˆ ===\n");
    return 0;
}
```
