# math

::: info æ–‡ä»¶ä¿¡æ¯
- ğŸ“„ åŸæ–‡ä»¶ï¼š`math.go`
- ğŸ”¤ è¯­è¨€ï¼šgo
:::

## å®Œæ•´ä»£ç 

```go
// Package mymath æä¾›åŸºç¡€æ•°å­¦è¿ç®—å‡½æ•°
// è¿™æ˜¯åŒ…çš„æ–‡æ¡£æ³¨é‡Šï¼Œä¼šè¢« go doc å·¥å…·æå–
package mymath

import "math"

// ============================================================
//                      åŒ…çš„å¯è§æ€§è§„åˆ™
// ============================================================
// ã€æ ¸å¿ƒè§„åˆ™ã€‘å¤§å†™å¼€å¤´ = å¯å¯¼å‡ºï¼ˆpublicï¼‰ï¼Œå°å†™å¼€å¤´ = ç§æœ‰ï¼ˆprivateï¼‰
// è¿™é€‚ç”¨äºï¼šå‡½æ•°ã€ç±»å‹ã€å˜é‡ã€å¸¸é‡ã€ç»“æ„ä½“å­—æ®µã€æ–¹æ³•

// ----------------------------------------------------------
// å¯å¯¼å‡ºçš„å¸¸é‡ï¼ˆå¤§å†™å¼€å¤´ï¼‰
// ----------------------------------------------------------

// Pi åœ†å‘¨ç‡å¸¸é‡
const Pi = 3.14159265358979323846

// E è‡ªç„¶å¯¹æ•°çš„åº•æ•°
const E = 2.71828182845904523536

// ----------------------------------------------------------
// ç§æœ‰å¸¸é‡ï¼ˆå°å†™å¼€å¤´ï¼ŒåŒ…å¤–ä¸å¯è®¿é—®ï¼‰
// ----------------------------------------------------------

const precision = 1e-10

// ----------------------------------------------------------
// å¯å¯¼å‡ºçš„å˜é‡
// ----------------------------------------------------------

// DefaultPrecision é»˜è®¤ç²¾åº¦
var DefaultPrecision = 6

// ----------------------------------------------------------
// ç§æœ‰å˜é‡
// ----------------------------------------------------------

var cache = make(map[int]int)

// ----------------------------------------------------------
// å¯å¯¼å‡ºçš„å‡½æ•°
// ----------------------------------------------------------

// Add è¿”å›ä¸¤ä¸ªæ•´æ•°çš„å’Œ
// å‡½æ•°æ–‡æ¡£æ³¨é‡Šåº”è¯¥ä»¥å‡½æ•°åå¼€å¤´
func Add(a, b int) int {
	return a + b
}

// Subtract è¿”å›ä¸¤ä¸ªæ•´æ•°çš„å·®
func Subtract(a, b int) int {
	return a - b
}

// Multiply è¿”å›ä¸¤ä¸ªæ•´æ•°çš„ç§¯
func Multiply(a, b int) int {
	return a * b
}

// Divide è¿”å›ä¸¤ä¸ªæ•´æ•°çš„å•†
// å¦‚æœé™¤æ•°ä¸ºé›¶ï¼Œè¿”å› 0
func Divide(a, b int) int {
	if b == 0 {
		return 0
	}
	return a / b
}

// Sqrt è¿”å›å¹³æ–¹æ ¹
func Sqrt(x float64) float64 {
	return math.Sqrt(x)
}

// Power è¿”å› x çš„ n æ¬¡æ–¹
func Power(x float64, n int) float64 {
	return math.Pow(x, float64(n))
}

// Abs è¿”å›ç»å¯¹å€¼
func Abs(x int) int {
	if x < 0 {
		return -x
	}
	return x
}

// Max è¿”å›ä¸¤ä¸ªæ•°ä¸­çš„è¾ƒå¤§å€¼
func Max(a, b int) int {
	if a > b {
		return a
	}
	return b
}

// Min è¿”å›ä¸¤ä¸ªæ•°ä¸­çš„è¾ƒå°å€¼
func Min(a, b int) int {
	if a < b {
		return a
	}
	return b
}

// Fibonacci è¿”å›ç¬¬ n ä¸ªæ–æ³¢é‚£å¥‘æ•°ï¼ˆå¸¦ç¼“å­˜ï¼‰
func Fibonacci(n int) int {
	if n <= 1 {
		return n
	}

	// æ£€æŸ¥ç¼“å­˜
	if v, ok := cache[n]; ok {
		return v
	}

	// è®¡ç®—å¹¶ç¼“å­˜
	result := Fibonacci(n-1) + Fibonacci(n-2)
	cache[n] = result
	return result
}

// ----------------------------------------------------------
// ç§æœ‰å‡½æ•°ï¼ˆåŒ…å¤–ä¸å¯è°ƒç”¨ï¼‰
// ----------------------------------------------------------

// helper æ˜¯ä¸€ä¸ªç§æœ‰è¾…åŠ©å‡½æ•°
func helper(x int) int {
	return x * x
}

// validate éªŒè¯è¾“å…¥
func validate(x int) bool {
	return x >= 0
}

// ----------------------------------------------------------
// å¯å¯¼å‡ºçš„ç±»å‹
// ----------------------------------------------------------

// Point è¡¨ç¤ºäºŒç»´å¹³é¢ä¸Šçš„ç‚¹
type Point struct {
	X, Y float64 // å¤§å†™ï¼Œå¯å¯¼å‡ºå­—æ®µ
}

// NewPoint åˆ›å»ºæ–°çš„ç‚¹ï¼ˆæ„é€ å‡½æ•°ï¼‰
func NewPoint(x, y float64) *Point {
	return &Point{X: x, Y: y}
}

// Distance è®¡ç®—åˆ°å¦ä¸€ä¸ªç‚¹çš„è·ç¦»
func (p Point) Distance(other Point) float64 {
	dx := p.X - other.X
	dy := p.Y - other.Y
	return math.Sqrt(dx*dx + dy*dy)
}

// ----------------------------------------------------------
// å¸¦ç§æœ‰å­—æ®µçš„ç±»å‹
// ----------------------------------------------------------

// Calculator è®¡ç®—å™¨ç±»å‹
type Calculator struct {
	Result    float64 // å¯å¯¼å‡º
	precision int     // ç§æœ‰ï¼ŒåŒ…å¤–æ— æ³•ç›´æ¥è®¿é—®
}

// NewCalculator åˆ›å»ºè®¡ç®—å™¨
func NewCalculator() *Calculator {
	return &Calculator{
		Result:    0,
		precision: DefaultPrecision,
	}
}

// SetPrecision è®¾ç½®ç²¾åº¦ï¼ˆé€šè¿‡æ–¹æ³•è®¿é—®ç§æœ‰å­—æ®µï¼‰
func (c *Calculator) SetPrecision(p int) {
	c.precision = p
}

// GetPrecision è·å–ç²¾åº¦
func (c *Calculator) GetPrecision() int {
	return c.precision
}
```
