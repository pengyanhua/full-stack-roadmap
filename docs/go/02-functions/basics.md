# basics.go

::: info æ–‡ä»¶ä¿¡æ¯
- ğŸ“„ åŸæ–‡ä»¶ï¼š`01_basics.go`
- ğŸ”¤ è¯­è¨€ï¼šgo
:::

## å®Œæ•´ä»£ç 

```go
package main

import "fmt"

// ============================================================
//                      å‡½æ•°åŸºç¡€
// ============================================================
// Go çš„å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼ˆfirst-classï¼‰ï¼Œå¯ä»¥ï¼š
// - èµ‹å€¼ç»™å˜é‡
// - ä½œä¸ºå‚æ•°ä¼ é€’
// - ä½œä¸ºè¿”å›å€¼
// - åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ï¼ˆåŒ¿åå‡½æ•°ï¼‰

func main() {
	fmt.Println("=== å‡½æ•°åŸºç¡€ ===")

	// ----------------------------------------------------------
	// è°ƒç”¨æ— å‚æ•°æ— è¿”å›å€¼çš„å‡½æ•°
	// ----------------------------------------------------------
	sayHello()

	// ----------------------------------------------------------
	// è°ƒç”¨æœ‰å‚æ•°çš„å‡½æ•°
	// ----------------------------------------------------------
	greet("å¼ ä¸‰")
	greet("æå››")

	// ----------------------------------------------------------
	// è°ƒç”¨æœ‰è¿”å›å€¼çš„å‡½æ•°
	// ----------------------------------------------------------
	result := add(10, 20)
	fmt.Println("add(10, 20) =", result)

	// å¯ä»¥ç›´æ¥ä½¿ç”¨è¿”å›å€¼
	fmt.Println("add(3, 4) + add(5, 6) =", add(3, 4)+add(5, 6))

	// ----------------------------------------------------------
	// è°ƒç”¨å¤šå‚æ•°åŒç±»å‹çš„å‡½æ•°
	// ----------------------------------------------------------
	sum := addThree(1, 2, 3)
	fmt.Println("addThree(1, 2, 3) =", sum)

	// ----------------------------------------------------------
	// å‡½æ•°ä½œä¸ºå€¼
	// ----------------------------------------------------------
	fmt.Println("\n=== å‡½æ•°ä½œä¸ºå€¼ ===")

	// å°†å‡½æ•°èµ‹å€¼ç»™å˜é‡
	// ã€é‡è¦ã€‘æ³¨æ„ï¼šæ˜¯ add è€Œä¸æ˜¯ add()ï¼Œåè€…æ˜¯è°ƒç”¨
	var myFunc func(int, int) int = add
	fmt.Println("myFunc(100, 200) =", myFunc(100, 200))

	// çŸ­å£°æ˜
	anotherFunc := add
	fmt.Println("anotherFunc(5, 5) =", anotherFunc(5, 5))

	// ----------------------------------------------------------
	// å‡½æ•°ç±»å‹
	// ----------------------------------------------------------
	fmt.Println("\n=== å‡½æ•°ç±»å‹ ===")

	// å®šä¹‰å‡½æ•°ç±»å‹ï¼ˆé€šå¸¸åœ¨åŒ…çº§åˆ«å®šä¹‰ï¼‰
	type Calculator func(int, int) int

	var calc Calculator = add
	fmt.Println("calc(50, 30) =", calc(50, 30))

	// å¯ä»¥é‡æ–°èµ‹å€¼ä¸ºå…¶ä»–ç›¸åŒç­¾åçš„å‡½æ•°
	calc = multiply
	fmt.Println("calc(50, 30) =", calc(50, 30))

	// ----------------------------------------------------------
	// å‡½æ•°ä½œä¸ºå‚æ•°
	// ----------------------------------------------------------
	fmt.Println("\n=== å‡½æ•°ä½œä¸ºå‚æ•° ===")

	// å°†å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°
	result1 := compute(10, 5, add)
	result2 := compute(10, 5, subtract)
	result3 := compute(10, 5, multiply)

	fmt.Println("compute(10, 5, add) =", result1)
	fmt.Println("compute(10, 5, subtract) =", result2)
	fmt.Println("compute(10, 5, multiply) =", result3)

	// ----------------------------------------------------------
	// å‡½æ•°ä½œä¸ºè¿”å›å€¼
	// ----------------------------------------------------------
	fmt.Println("\n=== å‡½æ•°ä½œä¸ºè¿”å›å€¼ ===")

	// è·å–ä¸€ä¸ªå‡½æ•°ä½œä¸ºè¿”å›å€¼
	adder := getOperation("add")
	subber := getOperation("subtract")

	fmt.Println("adder(100, 30) =", adder(100, 30))
	fmt.Println("subber(100, 30) =", subber(100, 30))

	// ----------------------------------------------------------
	// ç«‹å³è°ƒç”¨
	// ----------------------------------------------------------
	fmt.Println("\n=== ç«‹å³è°ƒç”¨ ===")

	// è·å–å‡½æ•°åç«‹å³è°ƒç”¨
	fmt.Println("getOperation(\"multiply\")(6, 7) =", getOperation("multiply")(6, 7))

	main02()
	main03()
	main04()
	main05()
}

// ============================================================
//                      å‡½æ•°å®šä¹‰
// ============================================================

// ----------------------------------------------------------
// æ— å‚æ•°æ— è¿”å›å€¼
// ----------------------------------------------------------
// è¯­æ³•: func å‡½æ•°å() { å‡½æ•°ä½“ }
// ã€æ³¨æ„ã€‘Go æ²¡æœ‰ void å…³é”®å­—ï¼Œä¸å†™è¿”å›ç±»å‹å³è¡¨ç¤ºæ— è¿”å›å€¼
func sayHello() {
	fmt.Println("Hello, World!")
}

// ----------------------------------------------------------
// æœ‰å‚æ•°æ— è¿”å›å€¼
// ----------------------------------------------------------
// è¯­æ³•: func å‡½æ•°å(å‚æ•°å ç±»å‹) { å‡½æ•°ä½“ }
// ã€æ³¨æ„ã€‘ç±»å‹åœ¨å‚æ•°ååé¢ï¼ˆä¸ C/Java ç›¸åï¼‰
func greet(name string) {
	fmt.Println("Hello,", name)
}

// ----------------------------------------------------------
// æœ‰å‚æ•°æœ‰è¿”å›å€¼
// ----------------------------------------------------------
// è¯­æ³•: func å‡½æ•°å(å‚æ•°å ç±»å‹) è¿”å›ç±»å‹ { å‡½æ•°ä½“ }
// ã€æ³¨æ„ã€‘å¿…é¡»æœ‰ return è¯­å¥
func add(a int, b int) int {
	return a + b
}

// ----------------------------------------------------------
// å¤šå‚æ•°åŒç±»å‹ç®€å†™
// ----------------------------------------------------------
// è¿ç»­å¤šä¸ªå‚æ•°ç±»å‹ç›¸åŒæ—¶ï¼Œå¯ä»¥åªå†™æœ€åä¸€ä¸ªç±»å‹
// func add(a, b int) ç­‰ä»·äº func add(a int, b int)
func addThree(a, b, c int) int {
	return a + b + c
}

// ----------------------------------------------------------
// æ›´å¤šè¿ç®—å‡½æ•°ï¼ˆç”¨äºæ¼”ç¤ºï¼‰
// ----------------------------------------------------------
func subtract(a, b int) int {
	return a - b
}

func multiply(a, b int) int {
	return a * b
}

// ----------------------------------------------------------
// é«˜é˜¶å‡½æ•°ï¼šæ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°
// ----------------------------------------------------------
// ã€å®šä¹‰ã€‘æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°æˆ–è¿”å›å‡½æ•°çš„å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°
// ã€ç”¨é€”ã€‘å®ç°å›è°ƒã€ç­–ç•¥æ¨¡å¼ã€å‡½æ•°å¼ç¼–ç¨‹é£æ ¼
func compute(a, b int, operation func(int, int) int) int {
	return operation(a, b)
}

// ----------------------------------------------------------
// é«˜é˜¶å‡½æ•°ï¼šè¿”å›å‡½æ•°
// ----------------------------------------------------------
// ã€ç”¨é€”ã€‘å·¥å‚æ¨¡å¼ã€é—­åŒ…ã€å»¶è¿Ÿè®¡ç®—
func getOperation(op string) func(int, int) int {
	switch op {
	case "add":
		return add
	case "subtract":
		return subtract
	case "multiply":
		return multiply
	default:
		// è¿”å›ä¸€ä¸ªé»˜è®¤å‡½æ•°
		return func(a, b int) int {
			return 0
		}
	}
}

// ============================================================
//                      é‡è¦æ³¨æ„äº‹é¡¹
// ============================================================
//
// 1. ã€å‚æ•°ä¼ é€’ã€‘Go çš„å‚æ•°ä¼ é€’éƒ½æ˜¯å€¼ä¼ é€’ï¼ˆpass by valueï¼‰
//    - åŸºæœ¬ç±»å‹ï¼šå¤åˆ¶å€¼
//    - åˆ‡ç‰‡/map/channelï¼šå¤åˆ¶å¼•ç”¨ï¼ˆåº•å±‚æ•°æ®å…±äº«ï¼‰
//    - ç»“æ„ä½“ï¼šå¤åˆ¶æ•´ä¸ªç»“æ„ä½“
//    - æŒ‡é’ˆï¼šå¤åˆ¶æŒ‡é’ˆåœ°å€
//
// 2. ã€å‡½æ•°ç­¾åã€‘å‡½æ•°ç­¾å = å‚æ•°ç±»å‹ + è¿”å›ç±»å‹
//    func(int, int) int  // è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹
//
// 3. ã€å‡½æ•°å‘½åã€‘
//    - å°å†™å¼€å¤´ï¼šåŒ…å†…ç§æœ‰
//    - å¤§å†™å¼€å¤´ï¼šå¯å¯¼å‡ºï¼ˆå…¶ä»–åŒ…å¯ç”¨ï¼‰
//
// 4. ã€ä¸æ”¯æŒã€‘
//    - å‡½æ•°é‡è½½ï¼ˆoverloadingï¼‰ï¼šåŒåä¸åŒå‚æ•°
//    - é»˜è®¤å‚æ•°å€¼
//    - å¯é€‰å‚æ•°ï¼ˆä½†å¯ç”¨å¯å˜å‚æ•°æ¨¡æ‹Ÿï¼‰
//
// 5. ã€init å‡½æ•°ã€‘
//    - ç‰¹æ®Šå‡½æ•°ï¼ŒåŒ…åˆå§‹åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨
//    - ä¸€ä¸ªåŒ…å¯ä»¥æœ‰å¤šä¸ª init
//    - ä¸èƒ½æ‰‹åŠ¨è°ƒç”¨
```
