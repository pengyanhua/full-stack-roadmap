# AI ä»£ç å®¡æŸ¥å®Œæ•´æ•™ç¨‹

## ç›®å½•
1. [AIä»£ç å®¡æŸ¥æ¦‚è¿°](#aiä»£ç å®¡æŸ¥æ¦‚è¿°)
2. [GPT-4ä»£ç åˆ†æå®æˆ˜](#gpt-4ä»£ç åˆ†æå®æˆ˜)
3. [å®‰å…¨æ¼æ´è‡ªåŠ¨æ£€æµ‹](#å®‰å…¨æ¼æ´è‡ªåŠ¨æ£€æµ‹)
4. [æ€§èƒ½é—®é¢˜è¯†åˆ«ä¸ä¼˜åŒ–](#æ€§èƒ½é—®é¢˜è¯†åˆ«ä¸ä¼˜åŒ–)
5. [CI/CDæµæ°´çº¿é›†æˆ](#cicdæµæ°´çº¿é›†æˆ)
6. [è‡ªåŠ¨åŒ–å®¡æŸ¥å·¥å…·æ­å»º](#è‡ªåŠ¨åŒ–å®¡æŸ¥å·¥å…·æ­å»º)
7. [å®¡æŸ¥æŠ¥å‘Šç”Ÿæˆ](#å®¡æŸ¥æŠ¥å‘Šç”Ÿæˆ)
8. [æœ€ä½³å®è·µä¸å›¢é˜Ÿåä½œ](#æœ€ä½³å®è·µä¸å›¢é˜Ÿåä½œ)

---

## AIä»£ç å®¡æŸ¥æ¦‚è¿°

### ä¸ºä»€ä¹ˆéœ€è¦AIä»£ç å®¡æŸ¥

ä¼ ç»Ÿä»£ç å®¡æŸ¥ä¾èµ–äººå·¥é€è¡Œæ£€æŸ¥,é¢ä¸´å®¡æŸ¥æ•ˆç‡ä½ã€æ ‡å‡†ä¸ç»Ÿä¸€ã€å®¹æ˜“é—æ¼ç­‰é—®é¢˜ã€‚
AIä»£ç å®¡æŸ¥é€šè¿‡å¤§è¯­è¨€æ¨¡å‹è‡ªåŠ¨åˆ†æä»£ç è´¨é‡ã€å®‰å…¨æ€§ã€æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§,ä½œä¸ºäººå·¥å®¡æŸ¥çš„
æœ‰åŠ›è¡¥å……,æ˜¾è‘—æé«˜å®¡æŸ¥è¦†ç›–ç‡å’Œä¸€è‡´æ€§ã€‚

### AIå®¡æŸ¥ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AI ä»£ç å®¡æŸ¥ç³»ç»Ÿæ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   è§¦å‘å±‚                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Git Push â”‚  â”‚ PR åˆ›å»º  â”‚  â”‚ å®šæ—¶æ‰«æ  â”‚  â”‚ æ‰‹åŠ¨è§¦å‘â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             v                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   å¤„ç†å±‚                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  ä»£ç å·®å¼‚æå– (git diff)                            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  - è·å–å˜æ›´æ–‡ä»¶åˆ—è¡¨                                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  - æå–æ–°å¢/ä¿®æ”¹çš„ä»£ç è¡Œ                            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  - æ”¶é›†ä¸Šä¸‹æ–‡(å‡½æ•°ç­¾åã€ç±»ç»“æ„ã€å¯¼å…¥)               â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                         â”‚                                 â”‚   â”‚
â”‚  â”‚                         v                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  å¤šç»´åº¦åˆ†æ                                        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ ä»£ç è´¨é‡  â”‚ â”‚ å®‰å…¨æ£€æµ‹  â”‚ â”‚ æ€§èƒ½åˆ†æ  â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - å‘½å    â”‚ â”‚ - SQLæ³¨å…¥ â”‚ â”‚ - å¤æ‚åº¦  â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - å¤æ‚åº¦  â”‚ â”‚ - XSS    â”‚ â”‚ - N+1æŸ¥è¯¢ â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - é‡å¤    â”‚ â”‚ - è®¤è¯   â”‚ â”‚ - å†…å­˜    â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â”‚ - è§„èŒƒ    â”‚ â”‚ - æ³„éœ²   â”‚ â”‚ - ç®—æ³•    â”‚          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             v                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   è¾“å‡ºå±‚                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ PRè¯„è®º   â”‚  â”‚ å®¡æŸ¥æŠ¥å‘Š  â”‚  â”‚ Slacké€šçŸ¥â”‚  â”‚ é˜»æ­¢åˆå¹¶â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AIå®¡æŸ¥ vs äººå·¥å®¡æŸ¥å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AIå®¡æŸ¥ vs äººå·¥å®¡æŸ¥ å¯¹æ¯”åˆ†æ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç»´åº¦         â”‚  AI å®¡æŸ¥           â”‚  äººå·¥å®¡æŸ¥                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€Ÿåº¦         â”‚  ç§’çº§ (å‡ ç§’åˆ°å‡ åˆ†) â”‚  å°æ—¶åˆ°å¤©çº§                  â”‚
â”‚  ä¸€è‡´æ€§       â”‚  é«˜ (æ ‡å‡†ç»Ÿä¸€)     â”‚  å› äººè€Œå¼‚                    â”‚
â”‚  è¦†ç›–ç‡       â”‚  100% ä»£ç è¡Œ      â”‚  é€šå¸¸ 60-80%                â”‚
â”‚  å®‰å…¨æ£€æµ‹     â”‚  æ¨¡å¼åŒ¹é… + è¯­ä¹‰   â”‚  ä¾èµ–å®¡æŸ¥è€…ç»éªŒ              â”‚
â”‚  ä¸šåŠ¡ç†è§£     â”‚  å¼± (ç¼ºä¹ä¸Šä¸‹æ–‡)   â”‚  å¼º (äº†è§£ä¸šåŠ¡èƒŒæ™¯)           â”‚
â”‚  æ¶æ„åˆ¤æ–­     â”‚  æœ‰é™              â”‚  å¼º (ç»éªŒé©±åŠ¨)               â”‚
â”‚  ç–²åŠ³         â”‚  æ—                 â”‚  å®¡æŸ¥ç–²åŠ³å¯¼è‡´è´¨é‡ä¸‹é™        â”‚
â”‚  æˆæœ¬         â”‚  APIè°ƒç”¨è´¹ç”¨       â”‚  é«˜çº§å·¥ç¨‹å¸ˆæ—¶é—´æˆæœ¬          â”‚
â”‚  å­¦ä¹ èƒ½åŠ›     â”‚  ä¾èµ–æ¨¡å‹æ›´æ–°      â”‚  æŒç»­ç§¯ç´¯é¢†åŸŸçŸ¥è¯†            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  æœ€ä½³ç­–ç•¥: AI åšç¬¬ä¸€è½®ç­›æŸ¥, äººå·¥åšæœ€ç»ˆå†³ç­–                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  AI å®¡æŸ¥ (è‡ªåŠ¨åŒ–)                                        â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ å®‰å…¨æ¼æ´æ£€æµ‹ (SQLæ³¨å…¥ã€XSSã€æ•æ„Ÿä¿¡æ¯æ³„éœ²)            â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ ä»£ç è§„èŒƒæ£€æŸ¥ (å‘½åã€æ ¼å¼ã€å¤æ‚åº¦)                    â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ å¸¸è§Bugæ¨¡å¼è¯†åˆ«                                     â”‚  â”‚
â”‚  â”‚  â””â”€â”€ æ€§èƒ½åæ¨¡å¼æ£€æµ‹ (N+1ã€å†…å­˜æ³„æ¼)                       â”‚  â”‚
â”‚  â”‚                    â”‚                                      â”‚  â”‚
â”‚  â”‚                    v                                      â”‚  â”‚
â”‚  â”‚  äººå·¥å®¡æŸ¥ (ç»ˆå®¡)                                          â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ ä¸šåŠ¡é€»è¾‘æ­£ç¡®æ€§                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ æ¶æ„è®¾è®¡åˆç†æ€§                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ AI æ ‡è®°çš„é—®é¢˜ç¡®è®¤/è¯¯æŠ¥æ’é™¤                           â”‚  â”‚
â”‚  â”‚  â””â”€â”€ ä»£ç å¯ç»´æŠ¤æ€§å’Œå›¢é˜Ÿè§„èŒƒ                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## GPT-4ä»£ç åˆ†æå®æˆ˜

### æ„å»ºä»£ç å®¡æŸ¥å¼•æ“

```python
# ============================================================
# AI ä»£ç å®¡æŸ¥å¼•æ“ - åŸºäº OpenAI GPT-4 API
# åŠŸèƒ½: è‡ªåŠ¨åˆ†æä»£ç å˜æ›´çš„è´¨é‡ã€å®‰å…¨æ€§å’Œæ€§èƒ½
# ============================================================

import json
import os
from typing import List, Optional
from dataclasses import dataclass, field
from enum import Enum
import subprocess


class Severity(Enum):
    """é—®é¢˜ä¸¥é‡ç¨‹åº¦"""
    CRITICAL = "critical"    # ä¸¥é‡: å®‰å…¨æ¼æ´ã€æ•°æ®ä¸¢å¤±é£é™©
    HIGH = "high"            # é«˜: æ˜æ˜¾çš„Bugæˆ–æ€§èƒ½é—®é¢˜
    MEDIUM = "medium"        # ä¸­: ä»£ç è´¨é‡é—®é¢˜
    LOW = "low"              # ä½: å»ºè®®æ€§æ”¹è¿›
    INFO = "info"            # ä¿¡æ¯: é£æ ¼å»ºè®®


class Category(Enum):
    """é—®é¢˜åˆ†ç±»"""
    SECURITY = "security"          # å®‰å…¨é—®é¢˜
    PERFORMANCE = "performance"    # æ€§èƒ½é—®é¢˜
    BUG = "bug"                    # æ½œåœ¨Bug
    QUALITY = "quality"            # ä»£ç è´¨é‡
    STYLE = "style"                # ä»£ç é£æ ¼
    MAINTAINABILITY = "maintainability"  # å¯ç»´æŠ¤æ€§


@dataclass
class ReviewIssue:
    """å®¡æŸ¥å‘ç°çš„é—®é¢˜"""
    file: str
    line: int
    severity: Severity
    category: Category
    title: str
    description: str
    suggestion: str
    code_snippet: Optional[str] = None


@dataclass
class ReviewResult:
    """å®¡æŸ¥ç»“æœ"""
    issues: List[ReviewIssue] = field(default_factory=list)
    summary: str = ""
    overall_score: int = 0  # 0-100 åˆ†
    files_reviewed: int = 0
    lines_reviewed: int = 0


class AICodeReviewer:
    """AI ä»£ç å®¡æŸ¥å™¨"""

    def __init__(self, api_key: str = None, model: str = "gpt-4"):
        self.api_key = api_key or os.environ.get("OPENAI_API_KEY")
        self.model = model
        if not self.api_key:
            raise ValueError("OPENAI_API_KEY ç¯å¢ƒå˜é‡æœªè®¾ç½®")

    def get_git_diff(self, base_branch: str = "main") -> str:
        """è·å–å½“å‰åˆ†æ”¯ä¸åŸºå‡†åˆ†æ”¯çš„ä»£ç å·®å¼‚"""
        try:
            result = subprocess.run(
                ["git", "diff", base_branch, "--unified=5"],
                capture_output=True,
                text=True,
                timeout=30
            )
            return result.stdout
        except subprocess.TimeoutExpired:
            return ""

    def get_changed_files(self, base_branch: str = "main") -> List[str]:
        """è·å–å˜æ›´æ–‡ä»¶åˆ—è¡¨"""
        try:
            result = subprocess.run(
                ["git", "diff", base_branch, "--name-only"],
                capture_output=True,
                text=True,
                timeout=30
            )
            return [f for f in result.stdout.strip().split('\n') if f]
        except subprocess.TimeoutExpired:
            return []

    def build_review_prompt(self, diff: str, focus_areas: List[str] = None) -> str:
        """æ„å»ºå®¡æŸ¥ Prompt"""
        areas = focus_areas or ["å®‰å…¨æ€§", "æ€§èƒ½", "ä»£ç è´¨é‡", "å¯ç»´æŠ¤æ€§"]

        prompt = f"""ä½ æ˜¯ä¸€ä½èµ„æ·±ä»£ç å®¡æŸ¥ä¸“å®¶ã€‚è¯·å¯¹ä»¥ä¸‹ä»£ç å˜æ›´è¿›è¡Œå…¨é¢å®¡æŸ¥ã€‚

## å®¡æŸ¥é‡ç‚¹
{', '.join(areas)}

## è¾“å‡ºæ ¼å¼
è¯·ä»¥JSONæ ¼å¼è¾“å‡º, åŒ…å«ä»¥ä¸‹å­—æ®µ:
{{
    "overall_score": 0-100çš„æ•´ä½“è¯„åˆ†,
    "summary": "ä¸€å¥è¯æ€»ç»“å®¡æŸ¥ç»“æœ",
    "issues": [
        {{
            "file": "æ–‡ä»¶å",
            "line": è¡Œå·,
            "severity": "critical/high/medium/low/info",
            "category": "security/performance/bug/quality/style/maintainability",
            "title": "é—®é¢˜æ ‡é¢˜",
            "description": "é—®é¢˜æè¿°",
            "suggestion": "ä¿®å¤å»ºè®®",
            "code_snippet": "ç›¸å…³ä»£ç ç‰‡æ®µ(å¯é€‰)"
        }}
    ]
}}

## å®¡æŸ¥æ ‡å‡†
1. å®‰å…¨æ€§: SQLæ³¨å…¥ã€XSSã€CSRFã€æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€è®¤è¯ç»•è¿‡
2. æ€§èƒ½: N+1æŸ¥è¯¢ã€æ— å¿…è¦å¾ªç¯ã€å†…å­˜æ³„æ¼ã€é˜»å¡æ“ä½œ
3. Bug: ç©ºæŒ‡é’ˆã€è¾¹ç•Œæ¡ä»¶ã€ç±»å‹é”™è¯¯ã€é€»è¾‘é”™è¯¯
4. è´¨é‡: å‘½åè§„èŒƒã€å‡½æ•°é•¿åº¦ã€åœˆå¤æ‚åº¦ã€é‡å¤ä»£ç 
5. å¯ç»´æŠ¤æ€§: æ–‡æ¡£ç¼ºå¤±ã€é­”æ³•æ•°å­—ã€ç´§è€¦åˆã€ç¼ºå°‘é”™è¯¯å¤„ç†

## ä»£ç å˜æ›´
{diff}
"""
        return prompt

    def review(self, base_branch: str = "main",
               focus_areas: List[str] = None) -> ReviewResult:
        """æ‰§è¡Œä»£ç å®¡æŸ¥"""
        # 1. è·å–ä»£ç å·®å¼‚
        diff = self.get_git_diff(base_branch)
        if not diff:
            return ReviewResult(summary="æ²¡æœ‰æ£€æµ‹åˆ°ä»£ç å˜æ›´")

        changed_files = self.get_changed_files(base_branch)

        # 2. æ„å»º prompt
        prompt = self.build_review_prompt(diff, focus_areas)

        # 3. è°ƒç”¨ AI æ¨¡å‹ (æ­¤å¤„ç”¨ä¼ªä»£ç è¡¨ç¤ºAPIè°ƒç”¨)
        # response = openai.ChatCompletion.create(
        #     model=self.model,
        #     messages=[
        #         {"role": "system", "content": "ä½ æ˜¯ä»£ç å®¡æŸ¥ä¸“å®¶"},
        #         {"role": "user", "content": prompt}
        #     ],
        #     temperature=0.1,
        #     max_tokens=4000
        # )
        # review_data = json.loads(response.choices[0].message.content)

        # 4. è§£æç»“æœ (ç¤ºä¾‹)
        review_data = self._mock_review_result()

        # 5. æ„å»º ReviewResult
        result = ReviewResult(
            summary=review_data.get("summary", ""),
            overall_score=review_data.get("overall_score", 0),
            files_reviewed=len(changed_files),
            lines_reviewed=len(diff.split('\n'))
        )

        for issue_data in review_data.get("issues", []):
            issue = ReviewIssue(
                file=issue_data["file"],
                line=issue_data["line"],
                severity=Severity(issue_data["severity"]),
                category=Category(issue_data["category"]),
                title=issue_data["title"],
                description=issue_data["description"],
                suggestion=issue_data["suggestion"],
                code_snippet=issue_data.get("code_snippet")
            )
            result.issues.append(issue)

        return result

    def _mock_review_result(self) -> dict:
        """æ¨¡æ‹Ÿå®¡æŸ¥ç»“æœ (å®é™…é¡¹ç›®ä¸­æ›¿æ¢ä¸ºAPIè°ƒç”¨)"""
        return {
            "overall_score": 72,
            "summary": "ä»£ç è´¨é‡æ•´ä½“è‰¯å¥½,ä½†å­˜åœ¨2ä¸ªå®‰å…¨é—®é¢˜å’Œ1ä¸ªæ€§èƒ½é—®é¢˜éœ€è¦ä¿®å¤",
            "issues": [
                {
                    "file": "src/api/users.py",
                    "line": 45,
                    "severity": "critical",
                    "category": "security",
                    "title": "SQLæ³¨å…¥é£é™©",
                    "description": "ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥æ„å»ºSQLæŸ¥è¯¢",
                    "suggestion": "ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢æ›¿ä»£å­—ç¬¦ä¸²æ‹¼æ¥",
                    "code_snippet": "query = f\"SELECT * FROM users WHERE name = '{name}'\""
                }
            ]
        }


# ============================================================
# ä½¿ç”¨ç¤ºä¾‹
# ============================================================
if __name__ == "__main__":
    reviewer = AICodeReviewer()
    result = reviewer.review(base_branch="main")

    print(f"å®¡æŸ¥è¯„åˆ†: {result.overall_score}/100")
    print(f"å®¡æŸ¥æ‘˜è¦: {result.summary}")
    print(f"å®¡æŸ¥æ–‡ä»¶æ•°: {result.files_reviewed}")
    print(f"å‘ç°é—®é¢˜æ•°: {len(result.issues)}")

    for issue in result.issues:
        print(f"\n[{issue.severity.value.upper()}] {issue.title}")
        print(f"  æ–‡ä»¶: {issue.file}:{issue.line}")
        print(f"  æè¿°: {issue.description}")
        print(f"  å»ºè®®: {issue.suggestion}")
```

---

## å®‰å…¨æ¼æ´è‡ªåŠ¨æ£€æµ‹

### å®‰å…¨æ‰«ææ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AI å®‰å…¨æ¼æ´æ£€æµ‹ç³»ç»Ÿ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  OWASP Top 10 æ£€æµ‹çŸ©é˜µ                    â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  A01: è®¿é—®æ§åˆ¶ç¼ºé™·        [æ£€æµ‹: æƒé™æ£€æŸ¥é—æ¼]            â”‚   â”‚
â”‚  â”‚  A02: åŠ å¯†å¤±è´¥            [æ£€æµ‹: æ˜æ–‡å­˜å‚¨/å¼±åŠ å¯†]          â”‚   â”‚
â”‚  â”‚  A03: æ³¨å…¥æ”»å‡»            [æ£€æµ‹: SQL/NoSQL/OSæ³¨å…¥]         â”‚   â”‚
â”‚  â”‚  A04: ä¸å®‰å…¨è®¾è®¡          [æ£€æµ‹: æ¶æ„çº§å®‰å…¨ç¼ºé™·]           â”‚   â”‚
â”‚  â”‚  A05: å®‰å…¨é…ç½®é”™è¯¯        [æ£€æµ‹: é»˜è®¤é…ç½®/è°ƒè¯•å¼€å¯]        â”‚   â”‚
â”‚  â”‚  A06: è¿‡æ—¶ç»„ä»¶            [æ£€æµ‹: ä¾èµ–ç‰ˆæœ¬æ‰«æ]             â”‚   â”‚
â”‚  â”‚  A07: è®¤è¯å¤±è´¥            [æ£€æµ‹: å¼±å¯†ç /ä¼šè¯ç®¡ç†]          â”‚   â”‚
â”‚  â”‚  A08: æ•°æ®å®Œæ•´æ€§          [æ£€æµ‹: ååºåˆ—åŒ–/CI-CD]           â”‚   â”‚
â”‚  â”‚  A09: æ—¥å¿—ç›‘æ§ä¸è¶³        [æ£€æµ‹: æ•æ„Ÿä¿¡æ¯æ—¥å¿—]             â”‚   â”‚
â”‚  â”‚  A10: SSRF               [æ£€æµ‹: æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ]           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  æ£€æµ‹æµç¨‹                                 â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  æºä»£ç  â”€â”€> é™æ€åˆ†æ â”€â”€> AIè¯­ä¹‰åˆ†æ â”€â”€> ç»“æœåˆå¹¶ â”€â”€> æŠ¥å‘Š â”‚   â”‚
â”‚  â”‚              â”‚            â”‚              â”‚                â”‚   â”‚
â”‚  â”‚              v            v              v                â”‚   â”‚
â”‚  â”‚           æ­£åˆ™åŒ¹é…    GPT-4åˆ†æ      å»é‡æ’åº             â”‚   â”‚
â”‚  â”‚           ASTè§£æ     ä¸Šä¸‹æ–‡ç†è§£     ä¸¥é‡æ€§è¯„çº§            â”‚   â”‚
â”‚  â”‚           è§„åˆ™å¼•æ“    æ„å›¾æ¨æ–­       ä¿®å¤å»ºè®®              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®‰å…¨æ¼æ´æ£€æµ‹å™¨å®ç°

```python
# ============================================================
# AI å®‰å…¨æ¼æ´æ£€æµ‹å™¨
# æ”¯æŒ: SQLæ³¨å…¥ã€XSSã€æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€ä¸å®‰å…¨çš„è®¤è¯
# ============================================================

import re
import ast
from typing import List, Dict, Tuple
from dataclasses import dataclass


@dataclass
class SecurityFinding:
    """å®‰å…¨å‘ç°"""
    vulnerability_type: str
    severity: str
    file_path: str
    line_number: int
    code_line: str
    description: str
    remediation: str
    cwe_id: str  # CWEç¼–å·


class SecurityScanner:
    """å®‰å…¨æ¼æ´æ‰«æå™¨ - é™æ€åˆ†æ + AIå¢å¼º"""

    # SQLæ³¨å…¥æ£€æµ‹æ¨¡å¼
    SQL_INJECTION_PATTERNS = [
        # f-string æ‹¼æ¥SQL
        (r'f["\'].*(?:SELECT|INSERT|UPDATE|DELETE|DROP|ALTER).*\{.*\}',
         "SQLæ³¨å…¥: ä½¿ç”¨f-stringæ‹¼æ¥SQLæŸ¥è¯¢"),
        # .format() æ‹¼æ¥SQL
        (r'(?:SELECT|INSERT|UPDATE|DELETE).*\.format\(',
         "SQLæ³¨å…¥: ä½¿ç”¨.format()æ‹¼æ¥SQLæŸ¥è¯¢"),
        # % æ ¼å¼åŒ–æ‹¼æ¥SQL
        (r'(?:SELECT|INSERT|UPDATE|DELETE).*%\s*\(',
         "SQLæ³¨å…¥: ä½¿ç”¨%æ ¼å¼åŒ–æ‹¼æ¥SQLæŸ¥è¯¢"),
        # å­—ç¬¦ä¸²æ‹¼æ¥SQL
        (r'(?:SELECT|INSERT|UPDATE|DELETE).*\+\s*(?:request|user_input|params)',
         "SQLæ³¨å…¥: å­—ç¬¦ä¸²æ‹¼æ¥ç”¨æˆ·è¾“å…¥"),
    ]

    # XSSæ£€æµ‹æ¨¡å¼
    XSS_PATTERNS = [
        (r'innerHTML\s*=\s*(?!.*sanitize)',
         "XSS: æœªç»æ¶ˆæ¯’ç›´æ¥è®¾ç½®innerHTML"),
        (r'document\.write\(',
         "XSS: ä½¿ç”¨document.write()"),
        (r'dangerouslySetInnerHTML',
         "XSS: ä½¿ç”¨dangerouslySetInnerHTMLéœ€ç¡®è®¤å·²æ¶ˆæ¯’"),
        (r'v-html\s*=',
         "XSS: Vue v-htmlæŒ‡ä»¤å¯èƒ½å¯¼è‡´XSS"),
    ]

    # æ•æ„Ÿä¿¡æ¯æ³„éœ²æ¨¡å¼
    SECRET_PATTERNS = [
        (r'(?:password|passwd|pwd)\s*=\s*["\'][^"\']+["\']',
         "æ•æ„Ÿä¿¡æ¯: ç¡¬ç¼–ç å¯†ç "),
        (r'(?:api_key|apikey|api-key)\s*=\s*["\'][^"\']+["\']',
         "æ•æ„Ÿä¿¡æ¯: ç¡¬ç¼–ç APIå¯†é’¥"),
        (r'(?:secret|token)\s*=\s*["\'][A-Za-z0-9+/=]{20,}["\']',
         "æ•æ„Ÿä¿¡æ¯: ç¡¬ç¼–ç å¯†é’¥/ä»¤ç‰Œ"),
        (r'(?:aws_access_key|aws_secret)\s*=\s*["\']',
         "æ•æ„Ÿä¿¡æ¯: ç¡¬ç¼–ç AWSå‡­è¯"),
    ]

    # ä¸å®‰å…¨è®¤è¯æ¨¡å¼
    AUTH_PATTERNS = [
        (r'verify\s*=\s*False',
         "ä¸å®‰å…¨è®¤è¯: SSLéªŒè¯è¢«ç¦ç”¨"),
        (r'(?:md5|sha1)\s*\(',
         "å¼±åŠ å¯†: MD5/SHA1ä¸é€‚åˆå¯†ç å“ˆå¸Œ"),
        (r'JWT.*(?:none|None)',
         "JWT: ä½¿ç”¨noneç®—æ³•ç»•è¿‡ç­¾åéªŒè¯"),
    ]

    def scan_file(self, file_path: str, content: str) -> List[SecurityFinding]:
        """æ‰«æå•ä¸ªæ–‡ä»¶çš„å®‰å…¨é—®é¢˜"""
        findings = []
        lines = content.split('\n')

        all_patterns = [
            (self.SQL_INJECTION_PATTERNS, "SQL Injection", "CWE-89"),
            (self.XSS_PATTERNS, "Cross-Site Scripting", "CWE-79"),
            (self.SECRET_PATTERNS, "Sensitive Data Exposure", "CWE-200"),
            (self.AUTH_PATTERNS, "Broken Authentication", "CWE-287"),
        ]

        for patterns, vuln_type, cwe_id in all_patterns:
            for line_num, line in enumerate(lines, 1):
                for pattern, description in patterns:
                    if re.search(pattern, line, re.IGNORECASE):
                        finding = SecurityFinding(
                            vulnerability_type=vuln_type,
                            severity=self._assess_severity(vuln_type),
                            file_path=file_path,
                            line_number=line_num,
                            code_line=line.strip(),
                            description=description,
                            remediation=self._get_remediation(vuln_type),
                            cwe_id=cwe_id
                        )
                        findings.append(finding)

        return findings

    def _assess_severity(self, vuln_type: str) -> str:
        """è¯„ä¼°æ¼æ´ä¸¥é‡ç¨‹åº¦"""
        severity_map = {
            "SQL Injection": "critical",
            "Cross-Site Scripting": "high",
            "Sensitive Data Exposure": "critical",
            "Broken Authentication": "high",
        }
        return severity_map.get(vuln_type, "medium")

    def _get_remediation(self, vuln_type: str) -> str:
        """è·å–ä¿®å¤å»ºè®®"""
        remediation_map = {
            "SQL Injection": "ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢(PreparedStatement)æˆ–ORMã€‚"
                            "æ°¸è¿œä¸è¦æ‹¼æ¥ç”¨æˆ·è¾“å…¥åˆ°SQLå­—ç¬¦ä¸²ä¸­ã€‚",
            "Cross-Site Scripting": "å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒHTMLç¼–ç /è½¬ä¹‰ã€‚"
                                   "ä½¿ç”¨CSP(å†…å®¹å®‰å…¨ç­–ç•¥)å¤´éƒ¨ã€‚",
            "Sensitive Data Exposure": "å°†æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­ã€‚"
                                      "ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡(å¦‚AWS Secrets Manager)ã€‚",
            "Broken Authentication": "ä½¿ç”¨bcrypt/argon2è¿›è¡Œå¯†ç å“ˆå¸Œã€‚"
                                     "å¯ç”¨SSLè¯ä¹¦éªŒè¯ã€‚",
        }
        return remediation_map.get(vuln_type, "è¯·å‚è€ƒOWASPå®‰å…¨æŒ‡å—ã€‚")

    def generate_report(self, findings: List[SecurityFinding]) -> str:
        """ç”Ÿæˆå®‰å…¨æ‰«ææŠ¥å‘Š"""
        if not findings:
            return "å®‰å…¨æ‰«æå®Œæˆ: æœªå‘ç°å®‰å…¨é—®é¢˜ã€‚"

        critical = [f for f in findings if f.severity == "critical"]
        high = [f for f in findings if f.severity == "high"]
        medium = [f for f in findings if f.severity == "medium"]

        report = []
        report.append("=" * 60)
        report.append("           AI å®‰å…¨æ¼æ´æ‰«ææŠ¥å‘Š")
        report.append("=" * 60)
        report.append(f"æ‰«æç»“æœ: å‘ç° {len(findings)} ä¸ªå®‰å…¨é—®é¢˜")
        report.append(f"  - ä¸¥é‡ (Critical): {len(critical)}")
        report.append(f"  - é«˜å± (High):     {len(high)}")
        report.append(f"  - ä¸­å± (Medium):   {len(medium)}")
        report.append("")

        for finding in sorted(findings,
                              key=lambda f: {"critical": 0, "high": 1,
                                             "medium": 2}.get(f.severity, 3)):
            report.append(f"[{finding.severity.upper()}] {finding.description}")
            report.append(f"  æ–‡ä»¶: {finding.file_path}:{finding.line_number}")
            report.append(f"  CWE: {finding.cwe_id}")
            report.append(f"  ä»£ç : {finding.code_line}")
            report.append(f"  ä¿®å¤: {finding.remediation}")
            report.append("")

        return '\n'.join(report)


# ============================================================
# ä½¿ç”¨ç¤ºä¾‹
# ============================================================

# æ¨¡æ‹Ÿæœ‰å®‰å…¨é—®é¢˜çš„ä»£ç 
vulnerable_code = '''
import sqlite3
import hashlib

def get_user(username):
    # SQLæ³¨å…¥æ¼æ´
    query = f"SELECT * FROM users WHERE name = '{username}'"
    db = sqlite3.connect('app.db')
    return db.execute(query).fetchone()

def hash_password(password):
    # å¼±å“ˆå¸Œç®—æ³•
    return hashlib.md5(password.encode()).hexdigest()

# ç¡¬ç¼–ç å¯†ç 
DB_PASSWORD = "super_secret_123"
API_KEY = "sk-1234567890abcdef1234567890abcdef"

def fetch_api(url):
    import requests
    # ç¦ç”¨SSLéªŒè¯
    return requests.get(url, verify=False)
'''

if __name__ == "__main__":
    scanner = SecurityScanner()
    findings = scanner.scan_file("app.py", vulnerable_code)
    report = scanner.generate_report(findings)
    print(report)
```

### å®‰å…¨å®¡æŸ¥Promptæ¨¡æ¿

```python
# ============================================================
# ä¸“é—¨ç”¨äºå®‰å…¨å®¡æŸ¥çš„ GPT-4 Prompt æ¨¡æ¿
# ============================================================

SECURITY_REVIEW_PROMPT = """
ä½ æ˜¯ä¸€ä½ç½‘ç»œå®‰å…¨ä¸“å®¶å’Œä»£ç å®¡è®¡å¸ˆã€‚è¯·å¯¹ä»¥ä¸‹ä»£ç è¿›è¡Œå®‰å…¨å®¡æŸ¥ã€‚

## å®¡æŸ¥æ¸…å• (å¿…é¡»é€é¡¹æ£€æŸ¥)

### æ³¨å…¥æ”»å‡»
- [ ] SQLæ³¨å…¥ (å­—ç¬¦ä¸²æ‹¼æ¥ã€æœªå‚æ•°åŒ–æŸ¥è¯¢)
- [ ] NoSQLæ³¨å…¥ (MongoDBæŸ¥è¯¢å¯¹è±¡æ³¨å…¥)
- [ ] OSå‘½ä»¤æ³¨å…¥ (subprocessã€os.system)
- [ ] LDAPæ³¨å…¥
- [ ] XPathæ³¨å…¥

### è®¤è¯ä¸æˆæƒ
- [ ] å¼±å¯†ç ç­–ç•¥ (æ— é•¿åº¦/å¤æ‚åº¦è¦æ±‚)
- [ ] æ˜æ–‡å­˜å‚¨å¯†ç  (æœªä½¿ç”¨bcrypt/argon2)
- [ ] JWTå®‰å…¨æ€§ (ç®—æ³•ã€è¿‡æœŸæ—¶é—´ã€å¯†é’¥å¼ºåº¦)
- [ ] ä¼šè¯ç®¡ç† (å›ºå®šä¼šè¯IDã€æ— è¶…æ—¶)
- [ ] æƒé™æ£€æŸ¥é—æ¼ (æ°´å¹³/å‚ç›´è¶Šæƒ)

### æ•°æ®ä¿æŠ¤
- [ ] æ•æ„Ÿä¿¡æ¯ç¡¬ç¼–ç  (å¯†ç ã€APIå¯†é’¥ã€ä»¤ç‰Œ)
- [ ] æ—¥å¿—ä¸­æ³„éœ²æ•æ„Ÿä¿¡æ¯
- [ ] å“åº”ä¸­æš´éœ²å†…éƒ¨ä¿¡æ¯ (å †æ ˆè·Ÿè¸ªã€è°ƒè¯•ä¿¡æ¯)
- [ ] ä¸å®‰å…¨çš„æ•°æ®ä¼ è¾“ (HTTPã€æœªåŠ å¯†)

### è¾“å…¥éªŒè¯
- [ ] XSS (åå°„å‹ã€å­˜å‚¨å‹ã€DOMå‹)
- [ ] æ–‡ä»¶ä¸Šä¼ æ¼æ´ (ç±»å‹ã€å¤§å°ã€è·¯å¾„ç©¿è¶Š)
- [ ] è·¯å¾„ç©¿è¶Š (../../../etc/passwd)
- [ ] å¼€æ”¾é‡å®šå‘

### é…ç½®å®‰å…¨
- [ ] è°ƒè¯•æ¨¡å¼å¼€å¯ (DEBUG=True)
- [ ] CORSé…ç½®è¿‡å®½ (Access-Control-Allow-Origin: *)
- [ ] ç¼ºå°‘å®‰å…¨å¤´éƒ¨ (CSPã€HSTSã€X-Frame-Options)
- [ ] SSL/TLSé…ç½® (è¯ä¹¦éªŒè¯ã€å¼±å¯†ç å¥—ä»¶)

## å¾…å®¡æŸ¥ä»£ç 

{code}

## è¾“å‡ºè¦æ±‚

å¯¹æ¯ä¸ªå‘ç°çš„é—®é¢˜, è¯·ç»™å‡º:
1. æ¼æ´ç±»å‹å’ŒCWEç¼–å·
2. ä¸¥é‡ç¨‹åº¦ (Critical/High/Medium/Low)
3. å…·ä½“ä½ç½® (æ–‡ä»¶å:è¡Œå·)
4. é—®é¢˜æè¿°
5. æ”»å‡»åœºæ™¯ç¤ºä¾‹
6. ä¿®å¤ä»£ç ç¤ºä¾‹
"""
```

---

## æ€§èƒ½é—®é¢˜è¯†åˆ«ä¸ä¼˜åŒ–

### æ€§èƒ½åˆ†æç»´åº¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AI æ€§èƒ½å®¡æŸ¥ç»´åº¦                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  1. ç®—æ³•å¤æ‚åº¦                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  O(n^2) åµŒå¥—å¾ªç¯      ->  è€ƒè™‘å“ˆå¸Œè¡¨ O(n)        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  O(n*log(n)) æ’åº     ->  æ£€æŸ¥æ˜¯å¦å¿…è¦            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  é€’å½’æ— ç»ˆæ­¢æ¡ä»¶        ->  æ ˆæº¢å‡ºé£é™©              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  é‡å¤è®¡ç®—              ->  ç¼“å­˜/è®°å¿†åŒ–             â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  2. æ•°æ®åº“æ€§èƒ½                                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  N+1 æŸ¥è¯¢             ->  ä½¿ç”¨ JOIN/é¢„åŠ è½½        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  ç¼ºå°‘ç´¢å¼•              ->  æ·»åŠ åˆé€‚ç´¢å¼•            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  SELECT *             ->  åªæŸ¥è¯¢éœ€è¦çš„åˆ—           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  å¾ªç¯å†…æŸ¥è¯¢            ->  æ‰¹é‡æŸ¥è¯¢æ›¿ä»£            â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  3. å†…å­˜ä¸I/O                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  å¤§æ–‡ä»¶ä¸€æ¬¡æ€§è¯»å–      ->  æµå¼å¤„ç†/åˆ†å—è¯»å–       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  æ— é™å¢é•¿çš„åˆ—è¡¨        ->  é™åˆ¶å¤§å°/ç”Ÿæˆå™¨         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  åŒæ­¥é˜»å¡I/O          ->  å¼‚æ­¥/çº¿ç¨‹æ±              â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  æœªå…³é—­çš„èµ„æº          ->  with/try-finally       â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  4. å‰ç«¯æ€§èƒ½                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  ä¸å¿…è¦çš„é‡æ¸²æŸ“        ->  React.memo/useMemo     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  å¤§åˆ—è¡¨æ— è™šæ‹ŸåŒ–        ->  react-virtualized      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  æœªåšä»£ç åˆ†å‰²          ->  åŠ¨æ€ import()          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  å›¾ç‰‡æœªä¼˜åŒ–            ->  WebP/æ‡’åŠ è½½            â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ€§èƒ½é—®é¢˜æ£€æµ‹ç¤ºä¾‹

```python
# ============================================================
# AI æ€§èƒ½å®¡æŸ¥: å‘ç°çš„å…¸å‹æ€§èƒ½é—®é¢˜åŠä¿®å¤æ–¹æ¡ˆ
# ============================================================

# ----- é—®é¢˜1: O(n^2) åµŒå¥—å¾ªç¯ -----

# [æœ‰é—®é¢˜] åœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾é‡å¤å…ƒç´  - O(n^2)
def find_duplicates_slow(items: list) -> list:
    duplicates = []
    for i in range(len(items)):
        for j in range(i + 1, len(items)):
            if items[i] == items[j] and items[i] not in duplicates:
                duplicates.append(items[i])
    return duplicates

# [AIä¿®å¤] ä½¿ç”¨é›†åˆä¼˜åŒ– - O(n)
def find_duplicates_fast(items: list) -> list:
    seen = set()
    duplicates = set()
    for item in items:
        if item in seen:
            duplicates.add(item)
        seen.add(item)
    return list(duplicates)


# ----- é—®é¢˜2: å¾ªç¯å†…æ•°æ®åº“æŸ¥è¯¢ (N+1é—®é¢˜) -----

# [æœ‰é—®é¢˜] N+1 æŸ¥è¯¢
def get_order_details_slow(order_ids: list):
    orders = []
    for order_id in order_ids:  # Næ¬¡æŸ¥è¯¢
        order = db.query("SELECT * FROM orders WHERE id = %s", (order_id,))
        items = db.query("SELECT * FROM order_items WHERE order_id = %s", (order_id,))
        order['items'] = items
        orders.append(order)
    return orders

# [AIä¿®å¤] æ‰¹é‡æŸ¥è¯¢
def get_order_details_fast(order_ids: list):
    if not order_ids:
        return []

    # 1æ¬¡æŸ¥è¯¢è·å–æ‰€æœ‰è®¢å•
    placeholders = ','.join(['%s'] * len(order_ids))
    orders = db.query(
        f"SELECT * FROM orders WHERE id IN ({placeholders})",
        tuple(order_ids)
    )

    # 1æ¬¡æŸ¥è¯¢è·å–æ‰€æœ‰è®¢å•é¡¹
    items = db.query(
        f"SELECT * FROM order_items WHERE order_id IN ({placeholders})",
        tuple(order_ids)
    )

    # å†…å­˜ä¸­ç»„è£…
    items_by_order = {}
    for item in items:
        items_by_order.setdefault(item['order_id'], []).append(item)

    for order in orders:
        order['items'] = items_by_order.get(order['id'], [])

    return orders  # æ€»å…±åªéœ€2æ¬¡æŸ¥è¯¢


# ----- é—®é¢˜3: å¤§æ–‡ä»¶ä¸€æ¬¡æ€§è¯»å– -----

# [æœ‰é—®é¢˜] ä¸€æ¬¡æ€§è¯»å–æ•´ä¸ªå¤§æ–‡ä»¶åˆ°å†…å­˜
def process_large_file_slow(file_path: str) -> int:
    with open(file_path, 'r') as f:
        content = f.read()  # å¯èƒ½æ¶ˆè€—GBçº§å†…å­˜
    lines = content.split('\n')
    return sum(1 for line in lines if 'ERROR' in line)

# [AIä¿®å¤] æµå¼é€è¡Œå¤„ç†
def process_large_file_fast(file_path: str) -> int:
    error_count = 0
    with open(file_path, 'r') as f:
        for line in f:  # è¿­ä»£å™¨,é€è¡Œè¯»å–,å†…å­˜æ’å®š
            if 'ERROR' in line:
                error_count += 1
    return error_count


# ----- é—®é¢˜4: ç¼“å­˜ç¼ºå¤± -----

# [æœ‰é—®é¢˜] é‡å¤è®¡ç®—,æ— ç¼“å­˜
def get_user_permissions_slow(user_id: int) -> list:
    """æ¯æ¬¡è°ƒç”¨éƒ½æŸ¥è¯¢æ•°æ®åº“"""
    user = db.query("SELECT * FROM users WHERE id = %s", (user_id,))
    roles = db.query("SELECT * FROM user_roles WHERE user_id = %s", (user_id,))
    permissions = []
    for role in roles:
        perms = db.query("SELECT * FROM role_permissions WHERE role_id = %s",
                         (role['id'],))
        permissions.extend(perms)
    return permissions

# [AIä¿®å¤] æ·»åŠ ç¼“å­˜
from functools import lru_cache
import time

_permission_cache = {}
_cache_ttl = 300  # 5åˆ†é’Ÿè¿‡æœŸ

def get_user_permissions_fast(user_id: int) -> list:
    """å¸¦ç¼“å­˜çš„æƒé™æŸ¥è¯¢"""
    cache_key = f"perms:{user_id}"
    now = time.time()

    # æ£€æŸ¥ç¼“å­˜
    if cache_key in _permission_cache:
        cached_data, cached_at = _permission_cache[cache_key]
        if now - cached_at < _cache_ttl:
            return cached_data

    # ç¼“å­˜æœªå‘½ä¸­,æŸ¥è¯¢æ•°æ®åº“(ä½¿ç”¨JOINä¸€æ¬¡æŸ¥å®Œ)
    permissions = db.query("""
        SELECT DISTINCT rp.permission
        FROM user_roles ur
        JOIN role_permissions rp ON ur.role_id = rp.role_id
        WHERE ur.user_id = %s
    """, (user_id,))

    # å†™å…¥ç¼“å­˜
    _permission_cache[cache_key] = (permissions, now)
    return permissions
```

---

## CI/CDæµæ°´çº¿é›†æˆ

### GitHub Actions é›†æˆ

```yaml
# ============================================================
# .github/workflows/ai-code-review.yml
# AI ä»£ç å®¡æŸ¥ GitHub Actions å·¥ä½œæµ
# ============================================================

name: AI Code Review

on:
  pull_request:
    types: [opened, synchronize, reopened]
    branches: [main, develop]

permissions:
  contents: read
  pull-requests: write

jobs:
  ai-review:
    name: AI ä»£ç å®¡æŸ¥
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - name: æ£€å‡ºä»£ç 
        uses: actions/checkout@v4
        with:
          fetch-depth: 0  # éœ€è¦å®Œæ•´å†å²æ¥åš diff

      - name: è®¾ç½® Python ç¯å¢ƒ
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: å®‰è£…ä¾èµ–
        run: |
          pip install openai requests

      - name: è·å–ä»£ç å˜æ›´
        id: diff
        run: |
          # è·å–PRçš„ä»£ç å·®å¼‚
          git diff origin/${{ github.base_ref }}...HEAD > diff.txt
          echo "diff_size=$(wc -c < diff.txt)" >> $GITHUB_OUTPUT

      - name: è¿è¡Œ AI ä»£ç å®¡æŸ¥
        if: steps.diff.outputs.diff_size > 0
        env:
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          python scripts/ai_review.py \
            --diff-file diff.txt \
            --output review_result.json \
            --model gpt-4 \
            --focus security,performance,quality

      - name: å‘å¸ƒå®¡æŸ¥è¯„è®º
        if: steps.diff.outputs.diff_size > 0
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const result = JSON.parse(fs.readFileSync('review_result.json', 'utf8'));

            let body = `## AI ä»£ç å®¡æŸ¥æŠ¥å‘Š\n\n`;
            body += `**è¯„åˆ†**: ${result.overall_score}/100\n`;
            body += `**æ‘˜è¦**: ${result.summary}\n\n`;

            if (result.issues.length > 0) {
              body += `### å‘ç°çš„é—®é¢˜ (${result.issues.length})\n\n`;
              for (const issue of result.issues) {
                const icon = {
                  critical: 'ğŸ”´',
                  high: 'ğŸŸ ',
                  medium: 'ğŸŸ¡',
                  low: 'ğŸ”µ',
                  info: 'âšª'
                }[issue.severity];
                body += `${icon} **[${issue.severity.toUpperCase()}]** ${issue.title}\n`;
                body += `- æ–‡ä»¶: \`${issue.file}:${issue.line}\`\n`;
                body += `- æè¿°: ${issue.description}\n`;
                body += `- å»ºè®®: ${issue.suggestion}\n\n`;
              }
            } else {
              body += `æœªå‘ç°æ˜æ˜¾é—®é¢˜ã€‚\n`;
            }

            body += `\n---\n*ç”± AI ä»£ç å®¡æŸ¥å¼•æ“è‡ªåŠ¨ç”Ÿæˆ*`;

            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: body
            });

      - name: æ£€æŸ¥æ˜¯å¦æœ‰ä¸¥é‡é—®é¢˜
        if: steps.diff.outputs.diff_size > 0
        run: |
          # å¦‚æœæœ‰ critical çº§åˆ«çš„é—®é¢˜, é˜»æ­¢åˆå¹¶
          python -c "
          import json
          with open('review_result.json') as f:
              result = json.load(f)
          critical = [i for i in result['issues'] if i['severity'] == 'critical']
          if critical:
              print(f'å‘ç° {len(critical)} ä¸ªä¸¥é‡é—®é¢˜, é˜»æ­¢åˆå¹¶')
              for c in critical:
                  print(f'  - {c[\"title\"]}: {c[\"file\"]}:{c[\"line\"]}')
              exit(1)
          print('æ— ä¸¥é‡å®‰å…¨é—®é¢˜')
          "
```

### GitLab CI é›†æˆ

```yaml
# ============================================================
# .gitlab-ci.yml - GitLab CI AI å®¡æŸ¥é…ç½®
# ============================================================

ai-code-review:
  stage: review
  image: python:3.11-slim
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
  variables:
    GIT_DEPTH: 0
  before_script:
    - pip install openai requests python-gitlab
  script:
    # è·å–MRçš„ä»£ç å·®å¼‚
    - git diff origin/$CI_MERGE_REQUEST_TARGET_BRANCH_NAME...HEAD > diff.txt

    # è¿è¡ŒAIå®¡æŸ¥
    - python scripts/ai_review.py
        --diff-file diff.txt
        --output review_result.json
        --model gpt-4

    # å°†å®¡æŸ¥ç»“æœå‘å¸ƒä¸ºMRè¯„è®º
    - python scripts/post_gitlab_comment.py
        --project-id $CI_PROJECT_ID
        --mr-iid $CI_MERGE_REQUEST_IID
        --result-file review_result.json
  artifacts:
    reports:
      codequality: review_result.json
    expire_in: 7 days
```

### å®¡æŸ¥è„šæœ¬å®ç°

```python
# ============================================================
# scripts/ai_review.py - CI/CDä¸­ä½¿ç”¨çš„å®¡æŸ¥è„šæœ¬
# ============================================================

import argparse
import json
import os
import sys

# æ­¤å¤„å¤ç”¨å‰é¢çš„ AICodeReviewer ç±»
# from ai_reviewer import AICodeReviewer


def main():
    parser = argparse.ArgumentParser(description="AI ä»£ç å®¡æŸ¥")
    parser.add_argument("--diff-file", required=True, help="diffæ–‡ä»¶è·¯å¾„")
    parser.add_argument("--output", required=True, help="è¾“å‡ºç»“æœæ–‡ä»¶è·¯å¾„")
    parser.add_argument("--model", default="gpt-4", help="ä½¿ç”¨çš„AIæ¨¡å‹")
    parser.add_argument("--focus", default="security,performance,quality",
                        help="å®¡æŸ¥é‡ç‚¹(é€—å·åˆ†éš”)")
    parser.add_argument("--threshold", type=int, default=60,
                        help="æœ€ä½é€šè¿‡åˆ†æ•°(0-100)")
    args = parser.parse_args()

    # è¯»å–diff
    with open(args.diff_file, 'r', encoding='utf-8') as f:
        diff_content = f.read()

    if not diff_content.strip():
        print("æ²¡æœ‰ä»£ç å˜æ›´, è·³è¿‡å®¡æŸ¥")
        result = {"overall_score": 100, "summary": "æ— ä»£ç å˜æ›´", "issues": []}
        with open(args.output, 'w') as f:
            json.dump(result, f, ensure_ascii=False, indent=2)
        return

    # æ‰§è¡Œå®¡æŸ¥
    focus_areas = args.focus.split(',')
    print(f"å¼€å§‹AIä»£ç å®¡æŸ¥...")
    print(f"  æ¨¡å‹: {args.model}")
    print(f"  å®¡æŸ¥é‡ç‚¹: {focus_areas}")
    print(f"  diffå¤§å°: {len(diff_content)} å­—ç¬¦")

    # reviewer = AICodeReviewer(model=args.model)
    # result = reviewer.review_diff(diff_content, focus_areas)

    # æ¨¡æ‹Ÿç»“æœ (å®é™…é¡¹ç›®æ›¿æ¢ä¸ºAPIè°ƒç”¨)
    result = {
        "overall_score": 78,
        "summary": "ä»£ç è´¨é‡è‰¯å¥½,å‘ç°1ä¸ªä¸­ç­‰å®‰å…¨é—®é¢˜",
        "issues": [
            {
                "file": "src/api/handler.py",
                "line": 23,
                "severity": "medium",
                "category": "security",
                "title": "æœªéªŒè¯ç”¨æˆ·è¾“å…¥é•¿åº¦",
                "description": "ç”¨æˆ·åå‚æ•°æ²¡æœ‰é•¿åº¦é™åˆ¶,å¯èƒ½å¯¼è‡´ç¼“å†²åŒºé—®é¢˜",
                "suggestion": "æ·»åŠ æœ€å¤§é•¿åº¦éªŒè¯: if len(username) > 50: raise ValueError()"
            }
        ]
    }

    # å†™å…¥ç»“æœ
    with open(args.output, 'w', encoding='utf-8') as f:
        json.dump(result, f, ensure_ascii=False, indent=2)

    # æ£€æŸ¥æ˜¯å¦é€šè¿‡
    print(f"\nå®¡æŸ¥å®Œæˆ:")
    print(f"  è¯„åˆ†: {result['overall_score']}/100")
    print(f"  é—®é¢˜æ•°: {len(result['issues'])}")
    print(f"  æ‘˜è¦: {result['summary']}")

    if result['overall_score'] < args.threshold:
        print(f"\nå®¡æŸ¥æœªé€šè¿‡! è¯„åˆ† {result['overall_score']} < é˜ˆå€¼ {args.threshold}")
        sys.exit(1)
    else:
        print(f"\nå®¡æŸ¥é€šè¿‡!")


if __name__ == "__main__":
    main()
```

---

## è‡ªåŠ¨åŒ–å®¡æŸ¥å·¥å…·æ­å»º

### å®Œæ•´å®¡æŸ¥æµæ°´çº¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å®Œæ•´çš„ AI å®¡æŸ¥æµæ°´çº¿æ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚  PR / MR åˆ›å»º â”‚                                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚         v                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ é™æ€åˆ†æ      â”‚â”€â”€>â”‚ AI è¯­ä¹‰åˆ†æ   â”‚â”€â”€>â”‚ ç»“æœèšåˆ        â”‚     â”‚
â”‚  â”‚ - ESLint     â”‚   â”‚ - GPT-4     â”‚   â”‚ - å»é‡          â”‚     â”‚
â”‚  â”‚ - Pylint     â”‚   â”‚ - Claude    â”‚   â”‚ - æ’åº          â”‚     â”‚
â”‚  â”‚ - SonarQube  â”‚   â”‚ - å®‰å…¨æ£€æŸ¥   â”‚   â”‚ - è¯„åˆ†          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                 â”‚              â”‚
â”‚                                                 v              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    è¾“å‡ºåˆ†å‘                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ PR è¯„è®º   â”‚  â”‚ Slack    â”‚  â”‚ é‚®ä»¶é€šçŸ¥  â”‚  â”‚ ä»ªè¡¨æ¿   â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  å†³ç­–è§„åˆ™:                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Critical é—®é¢˜  -> é˜»æ­¢åˆå¹¶ + é€šçŸ¥å®‰å…¨å›¢é˜Ÿ                 â”‚  â”‚
â”‚  â”‚  High é—®é¢˜      -> æ ‡è®°ä¸ºéœ€ä¿®å¤ + é€šçŸ¥ä½œè€…                 â”‚  â”‚
â”‚  â”‚  Medium é—®é¢˜    -> å»ºè®®ä¿®å¤ + PRè¯„è®º                       â”‚  â”‚
â”‚  â”‚  Low/Info       -> ä¿¡æ¯æç¤º + PRè¯„è®º                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®¡æŸ¥æŠ¥å‘Šç”Ÿæˆ

### å®¡æŸ¥æŠ¥å‘Šæ¨¡æ¿

```python
# ============================================================
# å®¡æŸ¥æŠ¥å‘Šç”Ÿæˆå™¨ - ç”Ÿæˆç»“æ„åŒ–çš„å®¡æŸ¥æŠ¥å‘Š
# ============================================================

from datetime import datetime
from typing import List


class ReviewReportGenerator:
    """å®¡æŸ¥æŠ¥å‘Šç”Ÿæˆå™¨"""

    def generate_markdown_report(self, result: dict,
                                  pr_info: dict = None) -> str:
        """ç”Ÿæˆ Markdown æ ¼å¼çš„å®¡æŸ¥æŠ¥å‘Š"""
        now = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

        report = []
        report.append("# AI ä»£ç å®¡æŸ¥æŠ¥å‘Š")
        report.append(f"\n**ç”Ÿæˆæ—¶é—´**: {now}")

        if pr_info:
            report.append(f"**PRæ ‡é¢˜**: {pr_info.get('title', 'N/A')}")
            report.append(f"**ä½œè€…**: {pr_info.get('author', 'N/A')}")
            report.append(f"**åˆ†æ”¯**: {pr_info.get('branch', 'N/A')}")

        report.append(f"\n## æ€»ä½“è¯„ä¼°")
        report.append(f"\n| æŒ‡æ ‡ | å€¼ |")
        report.append(f"|------|-----|")
        report.append(f"| æ€»è¯„åˆ† | **{result['overall_score']}**/100 |")
        report.append(f"| å®¡æŸ¥æ–‡ä»¶æ•° | {result.get('files_reviewed', 'N/A')} |")
        report.append(f"| å‘ç°é—®é¢˜æ•° | {len(result.get('issues', []))} |")

        # æŒ‰ä¸¥é‡ç¨‹åº¦ç»Ÿè®¡
        issues = result.get('issues', [])
        severity_counts = {}
        for issue in issues:
            sev = issue.get('severity', 'unknown')
            severity_counts[sev] = severity_counts.get(sev, 0) + 1

        report.append(f"| Critical | {severity_counts.get('critical', 0)} |")
        report.append(f"| High | {severity_counts.get('high', 0)} |")
        report.append(f"| Medium | {severity_counts.get('medium', 0)} |")
        report.append(f"| Low | {severity_counts.get('low', 0)} |")

        report.append(f"\n**æ‘˜è¦**: {result.get('summary', 'æ— ')}")

        # é—®é¢˜è¯¦æƒ…
        if issues:
            report.append(f"\n## é—®é¢˜è¯¦æƒ…\n")
            for i, issue in enumerate(issues, 1):
                severity_badge = {
                    "critical": "CRITICAL",
                    "high": "HIGH",
                    "medium": "MEDIUM",
                    "low": "LOW"
                }.get(issue.get('severity', ''), 'UNKNOWN')

                report.append(f"### {i}. [{severity_badge}] {issue.get('title', '')}")
                report.append(f"- **æ–‡ä»¶**: `{issue.get('file', '')}:{issue.get('line', '')}`")
                report.append(f"- **åˆ†ç±»**: {issue.get('category', '')}")
                report.append(f"- **æè¿°**: {issue.get('description', '')}")
                report.append(f"- **å»ºè®®**: {issue.get('suggestion', '')}")

                if issue.get('code_snippet'):
                    report.append(f"\n```\n{issue['code_snippet']}\n```\n")

        else:
            report.append(f"\n## å®¡æŸ¥ç»“æœ\n")
            report.append("æœªå‘ç°éœ€è¦å…³æ³¨çš„é—®é¢˜ã€‚ä»£ç è´¨é‡è‰¯å¥½!")

        report.append(f"\n---")
        report.append(f"*æ­¤æŠ¥å‘Šç”± AI ä»£ç å®¡æŸ¥å¼•æ“è‡ªåŠ¨ç”Ÿæˆ*")

        return '\n'.join(report)


# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    generator = ReviewReportGenerator()

    result = {
        "overall_score": 72,
        "files_reviewed": 5,
        "summary": "å‘ç°2ä¸ªå®‰å…¨é—®é¢˜éœ€è¦ä¿®å¤",
        "issues": [
            {
                "file": "src/api.py",
                "line": 45,
                "severity": "critical",
                "category": "security",
                "title": "SQLæ³¨å…¥é£é™©",
                "description": "ä½¿ç”¨f-stringæ‹¼æ¥SQLæŸ¥è¯¢",
                "suggestion": "æ”¹ç”¨å‚æ•°åŒ–æŸ¥è¯¢",
                "code_snippet": "query = f\"SELECT * FROM users WHERE id = '{user_id}'\""
            },
            {
                "file": "src/auth.py",
                "line": 12,
                "severity": "high",
                "category": "security",
                "title": "å¼±å¯†ç å“ˆå¸Œ",
                "description": "ä½¿ç”¨MD5è¿›è¡Œå¯†ç å“ˆå¸Œ",
                "suggestion": "æ”¹ç”¨bcryptæˆ–argon2"
            }
        ]
    }

    pr_info = {
        "title": "feat: æ·»åŠ ç”¨æˆ·ç®¡ç†æ¨¡å—",
        "author": "developer",
        "branch": "feature/user-management"
    }

    report = generator.generate_markdown_report(result, pr_info)
    print(report)
```

---

## æœ€ä½³å®è·µä¸å›¢é˜Ÿåä½œ

### AIå®¡æŸ¥é›†æˆç­–ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            å›¢é˜ŸAIä»£ç å®¡æŸ¥æœ€ä½³å®è·µ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  åŸåˆ™1: AIè¾…åŠ©, äººå·¥ç»ˆå®¡                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - AI å®¡æŸ¥ç»“æœä½œä¸ºå‚è€ƒ, ä¸æ˜¯æœ€ç»ˆåˆ¤æ–­                      â”‚  â”‚
â”‚  â”‚  - äººå·¥å®¡æŸ¥è€…å¿…é¡»ç¡®è®¤ AI æ ‡è®°çš„é—®é¢˜                       â”‚  â”‚
â”‚  â”‚  - æ’é™¤ AI çš„è¯¯æŠ¥(False Positive)                        â”‚  â”‚
â”‚  â”‚  - AI ä¸ç†è§£çš„ä¸šåŠ¡ä¸Šä¸‹æ–‡ç”±äººå·¥è¡¥å……                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  åŸåˆ™2: æ¸è¿›å¼é‡‡çº³                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  é˜¶æ®µ1: åªåšå®‰å…¨æ‰«æ (é«˜ç¡®å®šæ€§, ä½è¯¯æŠ¥)                   â”‚  â”‚
â”‚  â”‚  é˜¶æ®µ2: æ·»åŠ æ€§èƒ½æ£€æŸ¥                                      â”‚  â”‚
â”‚  â”‚  é˜¶æ®µ3: æ·»åŠ ä»£ç è´¨é‡è¯„ä¼°                                  â”‚  â”‚
â”‚  â”‚  é˜¶æ®µ4: æ·»åŠ æ¶æ„å»ºè®® (éœ€è¦å›¢é˜Ÿç£¨åˆ)                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  åŸåˆ™3: æŒç»­ä¼˜åŒ–å®¡æŸ¥è§„åˆ™                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - è®°å½•è¯¯æŠ¥, å®šæœŸè°ƒæ•´æ£€æµ‹è§„åˆ™                             â”‚  â”‚
â”‚  â”‚  - æ”¶é›†å›¢é˜Ÿåé¦ˆ, ä¼˜åŒ– Prompt                              â”‚  â”‚
â”‚  â”‚  - æ ¹æ®é¡¹ç›®ç‰¹ç‚¹å®šåˆ¶å®¡æŸ¥æ¸…å•                               â”‚  â”‚
â”‚  â”‚  - å»ºç«‹å›¢é˜Ÿçº§åˆ«çš„ .reviewrc é…ç½®æ–‡ä»¶                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  åŸåˆ™4: æˆæœ¬æ§åˆ¶                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - åªå®¡æŸ¥å˜æ›´çš„ä»£ç , ä¸æ‰«ææ•´ä¸ªä»£ç åº“                     â”‚  â”‚
â”‚  â”‚  - å¤§PRåˆ†æ‰¹æäº¤, æ§åˆ¶æ¯æ¬¡å®¡æŸ¥çš„ token æ•°                  â”‚  â”‚
â”‚  â”‚  - ä½¿ç”¨ç¼“å­˜é¿å…é‡å¤å®¡æŸ¥ç›¸åŒä»£ç                            â”‚  â”‚
â”‚  â”‚  - æŒ‰ä¼˜å…ˆçº§é€‰æ‹©æ¨¡å‹ (å®‰å…¨ç”¨GPT-4, é£æ ¼ç”¨GPT-3.5)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â”‚  å®¡æŸ¥é…ç½®æ–‡ä»¶ç¤ºä¾‹ (.ai-review.yml):                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  model: gpt-4                                            â”‚  â”‚
â”‚  â”‚  focus:                                                  â”‚  â”‚
â”‚  â”‚    - security (weight: 40%)                              â”‚  â”‚
â”‚  â”‚    - performance (weight: 25%)                           â”‚  â”‚
â”‚  â”‚    - quality (weight: 20%)                               â”‚  â”‚
â”‚  â”‚    - maintainability (weight: 15%)                       â”‚  â”‚
â”‚  â”‚  threshold: 70                                           â”‚  â”‚
â”‚  â”‚  block_on: [critical]                                    â”‚  â”‚
â”‚  â”‚  ignore_patterns:                                        â”‚  â”‚
â”‚  â”‚    - "*.test.*"                                          â”‚  â”‚
â”‚  â”‚    - "*.spec.*"                                          â”‚  â”‚
â”‚  â”‚    - "migrations/*"                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ€»ç»“

æœ¬æ•™ç¨‹æ¶µç›–äº† AI ä»£ç å®¡æŸ¥çš„æ ¸å¿ƒå†…å®¹:

1. **å®¡æŸ¥æ¦‚è¿°**: AIå®¡æŸ¥ä¸äººå·¥å®¡æŸ¥çš„äº’è¡¥å…³ç³»,æœ€ä½³ç»„åˆç­–ç•¥
2. **GPT-4åˆ†æ**: å®Œæ•´çš„å®¡æŸ¥å¼•æ“å®ç°,å¤šç»´åº¦ä»£ç åˆ†æ
3. **å®‰å…¨æ£€æµ‹**: OWASP Top 10 æ£€æµ‹,SQLæ³¨å…¥/XSS/æ•æ„Ÿä¿¡æ¯æ³„éœ²è‡ªåŠ¨è¯†åˆ«
4. **æ€§èƒ½ä¼˜åŒ–**: N+1æŸ¥è¯¢ã€ç®—æ³•å¤æ‚åº¦ã€å†…å­˜æ³„æ¼ç­‰æ€§èƒ½åæ¨¡å¼æ£€æµ‹
5. **CI/CDé›†æˆ**: GitHub Actions å’Œ GitLab CI å®Œæ•´é…ç½®
6. **å·¥å…·æ­å»º**: ç«¯åˆ°ç«¯çš„è‡ªåŠ¨åŒ–å®¡æŸ¥æµæ°´çº¿æ­å»º
7. **å›¢é˜Ÿå®è·µ**: æ¸è¿›å¼é‡‡çº³ç­–ç•¥ã€æˆæœ¬æ§åˆ¶ã€è¯¯æŠ¥ç®¡ç†

## å‚è€ƒèµ„æº

- [OpenAI API æ–‡æ¡£](https://platform.openai.com/docs)
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [SonarQube æ–‡æ¡£](https://docs.sonarqube.org/)
- [CWE æ¼æ´åˆ†ç±»](https://cwe.mitre.org/)

---

**åˆ›å»ºæ—¶é—´**: 2024-01-15
**æœ€åæ›´æ–°**: 2024-01-15
